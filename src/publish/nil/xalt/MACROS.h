#pragma once

#define NIL_XALT_EXPAND(ARG) ARG
#define NIL_XALT_IDENTITY(ARG) ARG
#define NIL_XALT_NARG_LOOP(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, N, ...) N
#define NIL_XALT_NARG(...) NIL_XALT_NARG_LOOP(__VA_ARGS__, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0, NULL)

#define NIL_XALT_CONCAT_(PRE, POST) PRE##POST
#define NIL_XALT_CONCAT(PRE, POST) NIL_XALT_CONCAT_(PRE, POST)

#define NIL_XALT_APPLY_1(MACRO, ARG) MACRO(ARG)
#define NIL_XALT_APPLY_2(MACRO, ARG, ...) MACRO(ARG), NIL_XALT_APPLY_1(MACRO, __VA_ARGS__)
#define NIL_XALT_APPLY_3(MACRO, ARG, ...) MACRO(ARG), NIL_XALT_APPLY_2(MACRO, __VA_ARGS__)
#define NIL_XALT_APPLY_4(MACRO, ARG, ...) MACRO(ARG), NIL_XALT_APPLY_3(MACRO, __VA_ARGS__)
#define NIL_XALT_APPLY_5(MACRO, ARG, ...) MACRO(ARG), NIL_XALT_APPLY_4(MACRO, __VA_ARGS__)
#define NIL_XALT_APPLY_6(MACRO, ARG, ...) MACRO(ARG), NIL_XALT_APPLY_5(MACRO, __VA_ARGS__)
#define NIL_XALT_APPLY_7(MACRO, ARG, ...) MACRO(ARG), NIL_XALT_APPLY_6(MACRO, __VA_ARGS__)
#define NIL_XALT_APPLY_8(MACRO, ARG, ...) MACRO(ARG), NIL_XALT_APPLY_7(MACRO, __VA_ARGS__)
#define NIL_XALT_APPLY_9(MACRO, ARG, ...) MACRO(ARG), NIL_XALT_APPLY_8(MACRO, __VA_ARGS__)
#define NIL_XALT_APPLY_10(MACRO, ARG, ...) MACRO(ARG), NIL_XALT_APPLY_9(MACRO, __VA_ARGS__)

#define NIL_XALT_REPEAT_1(ARG) ARG
#define NIL_XALT_REPEAT_2(ARG) ARG, NIL_XALT_REPEAT_1(ARG)
#define NIL_XALT_REPEAT_3(ARG) ARG, NIL_XALT_REPEAT_2(ARG)
#define NIL_XALT_REPEAT_4(ARG) ARG, NIL_XALT_REPEAT_3(ARG)
#define NIL_XALT_REPEAT_5(ARG) ARG, NIL_XALT_REPEAT_4(ARG)
#define NIL_XALT_REPEAT_6(ARG) ARG, NIL_XALT_REPEAT_5(ARG)
#define NIL_XALT_REPEAT_7(ARG) ARG, NIL_XALT_REPEAT_6(ARG)
#define NIL_XALT_REPEAT_8(ARG) ARG, NIL_XALT_REPEAT_7(ARG)
#define NIL_XALT_REPEAT_9(ARG) ARG, NIL_XALT_REPEAT_8(ARG)
#define NIL_XALT_REPEAT_10(ARG) ARG, NIL_XALT_REPEAT_9(ARG)
